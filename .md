# Arquitetura de Dados 

```mermaid
graph TD
    %% Data Sources
    BC[Banco Central API]
    WEATHER[OpenWeather API]
    OLIST[Olist Dataset]
    STREAM[Sales Stream]

    %% Airflow Orchestration
    AIRFLOW[Apache Airflow]
    COLLECT[Data Collection]
    VALIDATE[Data Validation]
    MASK[Data Masking]
    PROCESS[Spark Processing]

    %% Storage Layers
    BRONZE[(Bronze Layer)]
    SILVER[(Silver Layer)]
    GOLD[(Gold Layer)]

    %% Data Warehouse
    DW[(Data Warehouse)]
    STAR[Star Schema]

    %% Security & Governance
    VAULT[HashiCorp Vault]
    GE[Great Expectations]

    %% Main Data Flow
    BC --> COLLECT
    WEATHER --> COLLECT
    OLIST --> COLLECT
    STREAM --> COLLECT

    COLLECT --> VALIDATE
    VALIDATE --> MASK
    MASK --> PROCESS

    PROCESS --> BRONZE
    BRONZE --> SILVER
    SILVER --> GOLD

    GOLD --> DW
    DW --> STAR

    %% Orchestration
    AIRFLOW --> COLLECT
    AIRFLOW --> VALIDATE
    AIRFLOW --> MASK
    AIRFLOW --> PROCESS

    %% Security
    VAULT --> MASK
    VAULT --> DW

    %% Quality
    GE --> VALIDATE
    GE --> SILVER

    %% Styling
    classDef source fill:#2196F3,stroke:#1976D2,stroke-width:2px,color:#fff
    classDef process fill:#4CAF50,stroke:#388E3C,stroke-width:2px,color:#fff
    classDef storage fill:#FF9800,stroke:#F57C00,stroke-width:2px,color:#fff
    classDef security fill:#9C27B0,stroke:#7B1FA2,stroke-width:2px,color:#fff

    class BC,WEATHER,OLIST,STREAM source
    class AIRFLOW,COLLECT,VALIDATE,MASK,PROCESS process
    class BRONZE,SILVER,GOLD,DW,STAR storage
    class VAULT,GE security
